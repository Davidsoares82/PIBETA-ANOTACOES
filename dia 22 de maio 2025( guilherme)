
    2 bobinas (vocÃª pode enrolar fio de cobre esmaltado)

    1 ou mais Ã­mÃ£s

    1 microcontrolador (ex: Arduino Uno)

    1 buzzer ou LED (para o alarme)

    Resistores e capacitores (opcional, para filtragem)

    Fonte de alimentaÃ§Ã£o

âš™ï¸ Funcionamento do sistema

    Montagem: Coloque as duas bobinas a uma distÃ¢ncia conhecida (por exemplo, 0,5 m).

    Movimento do carro com Ã­mÃ£: O Ã­mÃ£ passa pelas bobinas uma de cada vez.

    DetecÃ§Ã£o de pulsos: O microcontrolador detecta os picos de tensÃ£o causados pela induÃ§Ã£o nas bobinas.

    CÃ¡lculo da velocidade:
    Velocidade=Distancia entre bobinas Ã· Tempo entre pulsos
   

    Alarme: Se a velocidade for maior que o limite definido, o alarme (buzzer ou LED) Ã© acionado.

ğŸ–¥ï¸ Exemplo de cÃ³digo bÃ¡sico (Arduino)

Assumindo que vocÃª usa pinos analÃ³gicos ou digitais para detectar pulsos de tensÃ£o das bobinas:

// DefiniÃ§Ã£o dos pinos
const int bobina1 = A0;
const int bobina2 = A1;

// VariÃ¡veis de tempo
unsigned long tempo1 = 0;
unsigned long tempo2 = 0;
const unsigned long timeout = 6000; // Tempo limite para a segunda detecÃ§Ã£o (em ms)

// ParÃ¢metros do sistema
const float distancia = 0.5; // DistÃ¢ncia entre as bobinas (em metros)
const float limiteVelocidade = 0.17; // Limite de velocidade (m/s)

// Controle de estado
bool detectadoBobina1 = false;

// Limite de detecÃ§Ã£o ajustado
const int limiteDeteccao = 280;

void setup() {
  Serial.begin(115200);
  Serial.println("ğŸš€ Sistema iniciado...");
}

void loop() {
  // Leitura das bobinas com filtro
  int leitura1 = mediaFiltrada(bobina1);
  int leitura2 = mediaFiltrada(bobina2);

  // Detecta a primeira bobina
  if (leitura1 > limiteDeteccao && !detectadoBobina1) {
    tempo1 = millis();
    detectadoBobina1 = true;
    Serial.println("âœ… Bobina 1 detectada.");
  }

  // Detecta a segunda bobina apÃ³s a primeira
  if (leitura2 > limiteDeteccao && detectadoBobina1) {
    tempo2 = millis();

    float tempoDecorrido = (tempo2 - tempo1) / 1000.0; // em segundos

    if (tempoDecorrido > 0.01) { // Garante tempo vÃ¡lido (mÃ­nimo 10ms)
      float velocidade = distancia / tempoDecorrido;

      // Filtra velocidades absurdas (>100 m/s Ã© considerado erro)
      if (velocidade > 100) {
        Serial.println("âŒ Velocidade impossÃ­vel detectada. Ignorando.");
      } else {
        Serial.print("âš™ï¸ Velocidade calculada: ");
        Serial.print(velocidade, 3);
        Serial.println(" m/s");

        if (velocidade > limiteVelocidade) {
          Serial.println("ğŸš¨ Velocidade ACIMA do limite PERMITIDO!");
        } else {
          Serial.println("âœ… Velocidade dentro do limite.");
        }
      }
    } else {
      Serial.println("âš ï¸ Erro: tempo muito pequeno. Desconsiderando.");
    }

    detectadoBobina1 = false;
    Serial.println("â³ Pronto para nova mediÃ§Ã£o.\n");
  }

  // Cancela se exceder o tempo
  if (detectadoBobina1 && (millis() - tempo1 > timeout)) {
    detectadoBobina1 = false;
    Serial.println("âŒ› Tempo excedido. MediÃ§Ã£o cancelada.\n");
  }

  delay(50); // Pequena pausa para estabilidade
}

// FunÃ§Ã£o com filtro para mÃ©dia de leituras, removendo ruÃ­dos
int mediaFiltrada(int pino) {
  const int numLeituras = 20;
  int leituras[numLeituras];

  // Faz as leituras
  for (int i = 0; i < numLeituras; i++) {
    leituras[i] = analogRead(pino);
    delay(2);
  }

  // Ordena as leituras
  for (int i = 0; i < numLeituras - 1; i++) {
    for (int j = i + 1; j < numLeituras; j++) {
      if (leituras[j] < leituras[i]) {
        int temp = leituras[i];
        leituras[i] = leituras[j];
        leituras[j] = temp;
      }
    }
  }

  // Descarta os 5 menores e os 5 maiores para remover ruÃ­do
  long soma = 0;
  for (int i = 5; i < numLeituras - 5; i++) {
    soma += leituras[i];
  }

  return soma / (numLeituras - 10);
}

âš ï¸ Dicas tÃ©cnicas:

    Use diodos nos terminais das bobinas para evitar picos de tensÃ£o no Arduino.

    Adicione resistores pull-down ou capacitores de filtro para limpar o sinal.

    A tensÃ£o gerada pela bobina dependerÃ¡ da velocidade do Ã­mÃ£ â€” mais rÃ¡pida = mais forte.
